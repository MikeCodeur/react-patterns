# Lifting State Up

### ğŸ’¡ Maitriser le Lifting State Up

## ğŸ“ Tes notes

Detaille ce que tu as appris ici
`src/exercise/06.md`ouÂ surÂ uneÂ pageÂ [Notion](https://go.mikecodeur.com/course-notes-template)

## Comprendre

Plusieurs composant peuvent avoir besoins des mÃªmes donnÃ©es. Ces donnÃ©es peuvent
avoir besoin d'Ãªtre mises Ã  jour puis repartagÃ©es. Il faut absolument Ã©viter la
duplication de la mÃªme donnÃ©e. Il doit y avoir une seule _source de vÃ©ritÃ©._
Imaginons le composant contrÃ´lÃ© `<NameInput />` qui gÃ¨re le state nom en
interne.

```jsx
function NameInput() {
  const [name, setName] = React.useState('')
  const handleChange = e => {
    setName(e.target.value)
  }
  return <input type="text" value={name} onChange={handleChange} />
}
```

Imaginons un prop `onNameChange` qui soit une fonction qui logue le `name` a
chaque changement.

```jsx
const handleNameChange = name => {
  console.log(name)
}
;<NameInput onNameChange={handleNameChange} />
```

On pourrait Ã©crire `props.onNameChange(e.target.value)` pour faire remonter
(Lifting State Up) le state au parent.

```jsx
function NameInput(props) {
  const [name, setName] = React.useState('')
  const handleChange = e => {
    setName(e.target.value)
    props.onNameChange(e.target.value)
  }
  return <input type="text" value={name} onChange={handleChange} />
}
```

Comme le `state` est maintenant remontÃ© au composant parent on pourrait le faire
redescendre via les `props` et supprimer le state `name`.

```jsx
function NameInput({onNameChange, name}) {
  const handleChange = e => {
    onNameChange(e.target.value)
  }
  return <input type="text" value={name} onChange={handleChange} />
}

function App() {
  const [name, setName] = React.useState('')
  const handleNameChange = name => {
    setName(name)
  }
  return <NameInput onNameChange={handleNameChange} name={name} />
}
```

Le circuit de remontÃ© des states et redescente via les `props` pourrait
ressembler Ã  cela :

![State Lift up](/lift-up-gif.gif)

## Exercice

Il est important dâ€™avoir une comprÃ©hension de base de la faÃ§on de gÃ©nÃ©rer et
dâ€™interagir avec des nÅ“uds DOM en utilisant JavaScript car cela vous aidera Ã 
comprendre comment React fonctionne un peu mieux sous le capot. Donc, dans cet
exercice, nous ne sommes en fait pas va utiliser React du tout. Au lieu de cela,
nous allons utiliser JavaScript pour crÃ©er un `div` nÅ“ud DOM avec le texte
â€œHello Worldâ€ et insÃ©rez ce nÅ“ud DOM dans le document.

## Bonus

### 1. ğŸš€ GÃ©nÃ©rer le Root Node

PlutÃ´t que dâ€™avoir le nÅ“ud `root` dans le code HTML, voyez si vous pouvez crÃ©er
celui-ci en utilisant Ã©galement JavaScript.

### 2. ğŸš€ Bonus 2

2PlutÃ´t que dâ€™avoir le nÅ“ud `root` dans le code HTML, voyez si vous pouvez crÃ©er
celui-ci en utilisant Ã©galement JavaScript.

## Aller plus loin

ğŸ“‘ Le lien vers la doc
[https://www.w3schools.com/html/html_css.asp](https://www.w3schools.com/html/html_css.asp)

## ğŸœ Feedback

Remplir le formulaire le
[formulaire de FeedBack](https://go.mikecodeur.com/cours-react-avis).
