# Props Functions

### üí° Passer des fonctions via props

## üìù Tes notes

Detaille ce que tu as appris ici
`src/exercise/02.md`ou¬†sur¬†une¬†page¬†[Notion](https://go.mikecodeur.com/course-notes-template)

## Comprendre

En JavaScript il est possible d'affecter une fonction √† une variable. Cela veut
dire qu'une variable peut contenir une fonction. Par extension cela veut dire
que l'on peut passer des fonctions via les `props`, ce qui est tr√®s utile. Dans
l'exemple ci-dessous le composant `<Welcome />` ne connait pas l' impl√©mentation
de `sayHello`, cette impl√©mentation est une fonction lui est pass√© via un prop.

```jsx
function sayHelloLowerCase(name) {
  return `Hello ${name}`.toLowerCase()
}
function sayHelloUppserCase(name) {
  return `Hello ${name}`.toUpperCase()
}
<Welcome name="mike" sayHello={sayHelloLowerCase}></Welcome>
//HELLO MIKE
<Welcome name="mike" sayHello={sayHelloUppserCase}></Welcome>
//hello mike
```

Le composant `Welcome` fait appel √† la fonction `sayHello` qui est pass√© en prop

```jsx
function Welcome({name, sayHello}) {
  return <div>{sayHello(name)}</div>
}
```

üìë Le lien vers la doc
[https://fr.reactjs.org/docs/faq-functions.html](https://fr.reactjs.org/docs/faq-functions.html)

## Exercice

Dans cet exercice tu vas devoir cr√©er un composant `<Calcul />` qui calculera 2
nombres selon une op√©ration (somme, multiplication etc ...). Le composant
`<Calcul />`ne connait pas l'op√©ration en interne. L'op√©ration sera pass√©e dans
un prop.

```jsx
<Calcul nb1={10} nb2={5} operation={somme}></Calcul>// affiche 15
<Calcul nb1={10} nb2={5} operation={multiplication}></Calcul>// affiche 50
```

## Bonus

### 1. üöÄ Calculer sur un √©v√®nement onClick

Cr√©√© un bouton avec le texte : `'Calculer somme'` ou `'Calculer multiplication'`
en fonction de l'op√©ration qui sera calcul√©e. Utilise `onClick={handeClick}`
pour g√©rer l'√©v√®nement. Comme nous voulons afficher un r√©sultat lors d'un
clique, cela veut dire que le composant `Calcul` va devoir mettre √† jour son
√©tat apr√®s le `clique`. Il va donc falloir cr√©er un state `resultat`.

```jsx
const [resultat, setResultat] = React.useState()
```

Utilise une ternaire pour afficher √† l'√©cran le r√©sultat ou rien si le calcul
n'est pas encore lanc√©.

### 2. üöÄ Appeler la fonction avec des param√®tres

Une petite subtilit√© √† connaitre : Quand on utilise une fonction sur un `event`
comme par exemple :

```jsx
<input onClick={handeClick} />
```

on pourrait penser que si l'on veut lui passer des arguments il suffit de faire
:

```jsx
<input onClick={handeClick(10, 5)} />
```

Or cela cause une erreur : _Uncaught Error: Too many re-render_. Il ne faut pas
confondre la r√©f√©rence √† la fonction de l'ex√©cution de la fonction.

```jsx
<input onClick={handeClick} /> //r√©ference √† la fonction
<input onClick={handeClick()} /> //execution de la fonction
```

Alors comment faire pour y passer des param√®tre ? La solution est de passer par
une fonction fl√©ch√©e.

```jsx
<input onClick={() => handeClick(50, 20)} /> //Sera ex√©cuter uniquement lors du clique.
```

Dans cet exercice tu vas devoir ajouter un deuxi√®me bouton qui appelle
`handeClick` avec 2 param√®tres. Comme les deux nombres `nb1` et `nb2` vont
changer et que l'on voudra voir leur nouvelle valeur √† l'√©cran, il va falloir
cr√©er 2 nouveaux states initialis√©s par d√©faut avec les props.

```jsx
const [nombre1, setNombre1] = React.useState(nb1)
const [nombre2, setNombre2] = React.useState(nb2)
```

Dans la fonction `handeClick`il faudra mettre √† jour ces 2 nombres lorsque la
fonction sera appel√© avec des nouveaux nombres, sinon utilis√© les props par
d√©faut en param√®tre de `handeClick`

```jsx
const handeClick = (a = nb1, b = nb2) {
	setNombre1(a)
	//...
}
```

> ‚ö†Ô∏è Dans le cas de l'appel sans argument React appelle la fonction avec un
> objet Event en param√®tre 1, il faudra g√©rer ce cas avec `a instanceof Object`

## üêú Feedback

Remplir le formulaire le
[formulaire de FeedBack.](https://go.mikecodeur.com/cours-react-avis?entry.1430994900=React%20Patterns&entry.533578441=02%20Props%20Functions)
